<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>E.com</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
  <link rel="stylesheet" href="/css/style.css">
   <link rel="shortcut icon" href="https://cdn-icons-png.flaticon.com/256/7360/7360313.png">
  <style>
        body {
      overflow-x: hidden;
     
    }
    #productList {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-evenly;
    }

    .card-body {
      min-height: 250px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .container-fluid {
      top: 0px;
      z-index: 1000;
      background: linear-gradient(90deg, #1e3c72, #2a5298);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      padding: 1%;
    }

    .card-img-top {
      height: 330px;
      object-fit: cover;
    }

    #filterbutton {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 2%;
    }

    .card-footer .btn{
      border: 2px solid black;
      padding: 2%;
      font-size: 80%;
    }


  </style>
</head>

<body>
  <!-- navbar -->
  <nav class="navbar navbar-expand-lg text-white fixed-top p-0">
    <div class="container-fluid ">
      <img src="https://cdn-icons-png.flaticon.com/256/7360/7360313.png" style="margin-bottom: 15px; margin-left:20px;" height="40px" width="40px" alt="">
      <a href="index.html" class="navbar-brand fw-bold text-white" style="font-size: 35px;">E.<span class="text-warning fw-bolder" style="font-family: 'Times New Roman', Times, serif; font-size: 30px;">Com</span></a>
      <button class="navbar-toggler bg-white fs-5" type="button" data-bs-toggle="collapse" data-bs-target="#navbar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbar">
        <ul class="mx-auto navbar-nav">
          <li class="nav-item me-1">
            <a href="index.html" class="nav-link fs-6 text-white fw-bold">Home</a>
          </li>
          <li>
            <a href="https://wa.me/8787256663" class="nav-link fs-6 text-white fw-bold">ContactUs</a>
          </li>
          <li class="nav-item me-1"></li>
          <button class=" btn btn-warning h-25  position-relative" id="cartButton">cart
            <span class="badge position-absolute  bg-danger rounded-pill" id="cartBadge">0</span>
          </button>
          </li>
          <li class="nav-item ms-2">
            <input type="text" name="" id="search" placeholder=" what do want" class="mt-2 ">
          </li>
        </ul>
        <!-- move on other page -->
        <div id="authButtons">
          <a href="login.html" class="btn btn-primary">LogIn</a>
          <a href="register.html" class="btn btn-primary"> Register</a>
        </div>
      </div>
    </div>
  </nav>
  <!-- code for carousel slide -->
  <div class="container-fluid m-0 p-0">
    <div class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active" data-bs-interval="2000">
          <img
            src="https://img.freepik.com/free-photo/laptop-shopping-bags-online-shopping-concept_1423-189.jpg?ga=GA1.1.1499324949.1735317088&semt=ais_hybrid"
            alt="" class="w-100 d-block" height="560px" />
        </div>
        <div class="carousel-item" data-bs-interval="3000">
          <img
            src="https://img.freepik.com/free-vector/online-shopping-illustration-bitcoin-payment-cryptocurrency-card_33099-324.jpg?t=st=1740146354~exp=1740149954~hmac=4b5b40e82af1cb13562f1d70e99f57981f5edd257584a08f1f4bbf98c789112b&w=1060"
            alt="" class="w-100 d-block" height="560px" />
        </div>
        <div class="carousel-item" data-bs-interval="2000">
          <img
            src="https://img.freepik.com/free-vector/perfume-glass-bottle-blue-silk-folded-fabric_33099-1928.jpg?t=st=1740146390~exp=1740149990~hmac=78fc831bb96b18d2148692e2f4cccba2a07d9b6ba95e11eebdc9b146d8f86cf8&w=996"
            alt="" class="w-100 d-block" height="560px" />
        </div>
      </div>
    </div>
  </div>
  <div id="filterbutton"></div>
  <!-- CARD ITEM -->
  <div id="productList"></div>
<!-- FOOTER -->
<footer class="bg-dark text-white">
  <div class="container">
      <div class="row py-4">
          <!-- Column 1 -->
          <div class="col-md-3 col-sm-6 mb-4">
              <h2 class="text-danger">YASH</h2>
              <p class="bi bi-geo">Address: GAURIGANJ, AMETHI,<br> UP, INDIA</p>
              <a href="mailto:yashmaurya3377@gmail.com" class="bi bi-envelope-at nav-link">Email: yashmaurya3377@gmail.com</a>
              <p>Phone: <a href="tel:+918787256663" class="bi bi-telephone nav-link">+91 8787256663</a></p>
              <a href="#" class="btn btn-outline-light">Get direction →</a>
          </div>

          <!-- Column 2 -->
          <div class="col-md-3 col-sm-6 mb-4">
              <h3 class="text-danger">Help</h3>
              <ul class="list-unstyled">
                  <li><a href="#" class="text-light text-decoration-none">Privacy Policy</a></li>
                  <li><a href="#" class="text-light text-decoration-none">Returns + Exchanges</a></li>
                  <li><a href="#" class="text-light text-decoration-none">Shipping</a></li>
                  <li><a href="#" class="text-light text-decoration-none">Terms & Conditions</a></li>
                  <li><a href="#" class="text-light text-decoration-none">FAQs</a></li>
                  <li><a href="#" class="text-light text-decoration-none">Compare</a></li>
                  <li><a href="#" class="text-light text-decoration-none">My Wishlist</a></li>
              </ul>
          </div>

          <!-- Column 3 -->
          <div class="col-md-3 col-sm-6 mb-4">
              <h3 class="text-danger">About Us</h3>
              <ul class="list-unstyled">
                  <li><a href="#" class="text-light text-decoration-none">Our Story</a></li>
                  <li><a href="#" class="text-light text-decoration-none">Visit Our Store</a></li>
                  <li><a href="#" class="text-light text-decoration-none">Contact Us</a></li>
                  <li><a href="#" class="text-light text-decoration-none">About Us</a></li>
                  <li><a href="#" class="text-light text-decoration-none">Account</a></li>
              </ul>
              <div class="mt-3">
                  <p class="text-danger">Payment Partner</p>
                  <i class="fa-brands fa-cc-visa fa-sm me-3" style="color: #ffc904; font-size: 30px;"></i>
                  <i class="fa-brands fa-amazon-pay me-3" style="color: #ffc904; font-size: 30px;"></i>
                  <i class="fa-brands fa-google-pay fa-flip-vertical me-3" style="color: #ffc904; font-size: 30px;"></i>
              </div>
          </div>

          <!-- Column 4 -->
          <div class="col-md-3 col-sm-6 mb-4">
              <h3 class="text-danger">Sign Up for Email</h3>
              <p>Sign up to get first dibs on new arrivals, sales, exclusive content, events, and more!</p>
              <form class="mb-3">
                  <div class="input-group">
                      <input type="email" class="form-control" placeholder="Enter email...">
                      <button type="submit" class="btn btn-outline-light">Subscribe →</button>
                  </div>
              </form>
              <div class="language-currency">
                  <select class="form-select mb-2">
                      <option>USD</option>
                      <option>EUR</option>
                  </select>
                  <select class="form-select">
                      <option>English</option>
                      <option>Spanish</option>
                  </select>
              </div>
          </div>
      </div>

      <!-- Footer Bottom -->
      <div class="row bg-dark text-white border-top pt-3">
          <div class="col text-center d-flex justify-content-center gap-3">
              <a href="https://www.facebook.com/yashatap.mauryvanshi" class="text-decoration-none">
                  <span class="bi bi-facebook text-primary"></span>
              </a>
              <a href="https://www.instagram.com" class="text-decoration-none">
                  <span class="bi bi-instagram text-danger"></span>
              </a>
              <a href="https://www.twitter.com" class="text-decoration-none">
                  <span class="bi bi-twitter text-primary"></span>
              </a>
              <a href="https://www.youtube.com" class="text-decoration-none">
                  <span class="bi bi-youtube text-danger"></span>
              </a>
              <a href="https://www.linkedin.com" class="text-decoration-none">
                  <span class="bi bi-linkedin text-primary"></span>
              </a>
          </div>
          <p class="text-center pb-2">© 2025 Yash. All rights reserved.</p>
      </div>
  </div>
</footer>
 
 

  <!-- script link -->
  <script>
    let allProducts = [];
    let cart = JSON.parse(localStorage.getItem('cart') || '[]')


    async function fetchproducts() {
      try {
        const response = await fetch(
          "https://dummyjson.com/products?limit=100"
        );
        const data = await response.json();
        allProducts = data.products;
        displayProducts(allProducts);
        generatefilterbutton(allProducts);
        updateCartBadge()
        // console.log(allProducts);
      } catch (error) {
        console.log(error.message);
      }
    }
    //code for displayProducts 
    function displayProducts(products) {
      const productList = document.getElementById("productList");
      productList.innerHTML = "";
      products.forEach((product) => {
        const card = document.createElement("div");
        card.className = " card mt-2 col-lg-7  shadow-lg p-1   ";
        card.style.width = "20rem";
        card.innerHTML = ` 
        <img src="${product.thumbnail}" class="card-img-top shadow-lg rounded-2 " alt="img loading " >
        <div class="card-body bg-dark-subtle "> 
          <h5 class="card-title ">${product.title}</h5>
           <h3 class="card-title "> $: ${product.price}</h3>
           <p>
           <span class="card-title bi bi-star-half text-warning text-center fs-5 "></span>
           <span class="card-title bi bi-star-half text-warning text-center fs-5 "></span>
           <span class="card-title bi bi-star-half text-warning text-center fs-5 "></span>
           <span class="card-title bi bi-star-half text-warning text-center fs-5 "></span></p>
           <p class="card-title fw-bold	"> <span class="fw-bold text-info-emphasis">Discount:</span> ${product.discountPercentage}%</p>
              <p class="card-title  fw-normal	">  <span class="fw-bold text-info-emphasis">warranty:</span>:${product.warrantyInformation}</p>
                  
              <div class="card-footer text-center d-flex justify-content-around gap-lg-1 mt-2mm ">
          <a href="https://wa.me/${8787256663}?text= prodect Id${product.id},Prodectcode:${product.sku},ProdectName:${product.title}" target="_blank" class="btn btn-outline-warning">Order On<span class="bi bi-whatsapp text-success "><span>  </a>
                   
      <button class="btn add-to-cart"data-id="${product.id}" >Add to card</button>
       <button class="btn view-details" data-id="${product.id}">View Details</button>
    </div>
          </div>
          `;
        productList.appendChild(card);

        
      });

      // code for add-card button 
      document.querySelectorAll('.add-to-cart').forEach(button => {
        button.addEventListener('click', function () {
          const productId = parseInt(this.getAttribute('data-id'))
          // console.log(productId)
          addToCart(productId)
        })
      })
      function addToCart(productId) {
      const product = allProducts.find(p => p.id === productId)
      console.log(product)
      const cardItem = cart.find(item => item.id === productId)
      if (cardItem) {
        cardItem.quantity++;
      }
      else {
        cart.push({ ...product, quantity: 1 })
      }
      localStorage.setItem('cart', JSON.stringify(cart))
      updateCartBadge();
    }

    // VIWE DETAIL
    document.querySelectorAll('.view-details').forEach(button =>
      button.addEventListener('click', function () {
        const productId = parseInt(this.getAttribute('data-id'))
        viewdetail(productId)
        console.log(productId)
      })
    )

    function viewdetail(productId) {
      const product = allProducts.find(p => p.id === productId);
      if (product) {
        sessionStorage.setItem('selectedProduct', JSON.stringify(product));
        window.location.href = 'Details.html';
      }
    }
    }
   


    function updateCartBadge() {
      const CartBadge = document.getElementById("cartBadge");
      CartBadge.textContent = cart.reduce((total, item) => total + item.quantity, 0);
    }

    // filterbutton

    function generatefilterbutton(allProducts) {
      const filterbutton = document.getElementById("filterbutton");
      filterbutton.innerHTML = "";
      const categories = allProducts.reduce((acc, product) => {
        if (!acc.includes(product.category)) {
          acc.push(product.category);
        }
        return acc;
      }, []);
      function createButton(category) {
        const button = document.createElement("button");
        button.className = "btn btn-outline-primary";
        // button.textContent = category.charAt(0).toUpperCase()+category.slice(1);
        button.textContent = category.charAt(0).toUpperCase() + category.slice(1);

        button.setAttribute("data-category", category);

        button.addEventListener("click", () => {
          displayProducts(
            category == "all"
              ? allProducts
              : allProducts.filter((product) => product.category == category)
          );
        });
        filterbutton.appendChild(button);
      }
      createButton("all");
      categories.forEach(createButton);
    }


    //  Search function 
    document.getElementById("search").addEventListener('input', function () {
      const query = this.value.toLowerCase();
      const searchProducts = allProducts.filter(product => product.title.toLowerCase().includes(query) || product.description.toLowerCase().includes(query))
      displayProducts(searchProducts)
    })

    document.getElementById("cartButton").addEventListener('click', () => {
      window.location.href = "Card.html"

    })

    fetchproducts();
  </script>

  <script src="/js/auth.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>